# 위클리 스케줄 시스템 (v4.1 신규)                         
                                                             
  ## 13. 위클리 스케줄 시스템                                
                                                             
  ### 13.1 개요                                              
                                                             
  Feature-Task 계층을 주 단위 타임라인으로 시각화하고,       
  Task의 일정을 드래그로 자유롭게 조정할 수 있는 간트 차트   
  스타일 뷰                                                  
                                                             
  ### 13.2 핵심 컨셉                                         
                                                             
  | 컨셉 | 설명 |                                            
  |------|------|                                            
  | **세로 축** | Feature → Task 계층 구조 (트리 형태) |     
  | **가로 축** | 주 단위 (월~일, 7일) |                     
  | **Task 바** | 시작일~종료일을 가로 바로 표현 |           
  | **드래그 조작** | 좌우 스트레치로 기간 조절, 드래그로    
  이동 |                                                     
  | **Feature 집계** | 하위 Task 기간을 자동 집계하여 표시 | 
                                                             
  ### 13.3 UI 레이아웃                                       
                                                             
  ```                                                        
  ┌───────────────────────────────────────────────────────── 
  ────────────────────────────┐                              
  │  팀 칸반보드       [칸반보드] [데일리스케줄]             
  [위클리스케줄]    [필터] [팀원] [설정]    │                
  ├───────────────────────────────────────────────────────── 
  ────────────────────────────┤                              
  │  [<]  2026년 1월 2주차 (01/06 ~ 01/12)  [>]              
  [오늘] [이번주]       │                                    
  ├────────────────────┬────────┬────────┬────────┬────────┬ 
  ────────┬────────┬────────┤                                
  │  Feature / Task    │  월    │  화    │  수    │  목    │ 
  금    │  토    │  일    │                                  
  │                    │ 01/06  │ 01/07  │ 01/08  │ 01/09  │ 
  01/10  │ 01/11  │ 01/12  │                                 
  ├────────────────────┼────────┴────────┴────────┴────────┴ 
  ────────┴────────┴────────┤                                
  │                    │                                     
  │                                                          
  │ ▼ 사용자 인증 시스템 │ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ 
  ░░░░░░░░░░░░░░░░░░░░░░░░░░░│                               
  │   #인증 #MVP       │                                     
  ════════════════════════════════════════════════ (집계 바) 
  │                                                          
  │                    │                                     
  │                                                          
  │   ├─ 로그인 UI     │      ┌─────────────────┐            
  │                                                          
  │   │  @이디자인     │      │████████████████ │            
  │                                                          
  │   │               │      └────────●────────┘             
  │                                                          
  │   │               │              ↑ 우측 핸들 (종료일     
  조절)                         │                            
  │   │               │                                      
  │                                                          
  │   ├─ 로그인 API    │                                     
  ┌──────────────────────────┐                       │       
  │   │  @박개발      │                                      
  │██████████████████████████│                       │       
  │   │               │                                      
  └──────────────────────────┘                       │       
  │   │               │                                      
  │                                                          
  │   ├─ 소셜 로그인   │                                     
  ┌─────────────────────────┐              │                 
  │   │  @박개발      │                                      
  │█████████████████████████│              │                 
  │   │               │                                      
  └─────────────────────────┘              │                 
  │   │               │                                      
  │                                                          
  │   └─ 로그인 테스트 │                                     
  ┌───────────────┐         │                                
  │      @최QA        │                                      
  │███████████████│         │                                
  │                    │                                     
  └───────────────┘         │                                
  │                    │                                     
  │                                                          
  ├────────────────────┼──────────────────────────────────── 
  ─────────────────────────┤                                 
  │                    │                                     
  │                                                          
  │ ▼ 결제 시스템      │                                     
  │                                                          
  │   #결제           │                                      
  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ (집계)   │ 
  │                    │                                     
  │                                                          
  │   ├─ 결제 UI      │      ┌───────────────────┐           
  │                                                          
  │   │  @이디자인    │      │███████████████████│           
  │                                                          
  │   │               │      └───────────────────┘           
  │                                                          
  │                    │                                     
  │                                                          
  │   └─ PG 연동      │                                      
  ┌─────────────────────────────────┐            │           
  │      @김개발      │                                      
  │█████████████████████████████████│            │           
  │                    │                                     
  └─────────────────────────────────┘            │           
  │                    │                                     
  │                                                          
  ├────────────────────┼──────────────────────────────────── 
  ─────────────────────────┤                                 
  │                    │                                     
  │                                                          
  │ ▶ 알림 시스템      │           ░░░░░░░░░░░░░░░░░░░░      
  (접힌 상태, 집계만 표시)        │                          
  │   #알림           │                                      
  │                                                          
  │                    │                                     
  │                                                          
  └────────────────────┴──────────────────────────────────── 
  ─────────────────────────┘                                 
  │                                                          
  오늘 표시선 (빨간                                          
  세로선)                                                    
  ```                                                        
                                                             
  ### 13.4 Task 바 조작                                      
                                                             
  #### 13.4.1 좌우 스트레치 (기간 조절)                      
                                                             
  ```                                                        
  기본 상태:                                                 
  ┌──────────────────────┐                                   
  │████████████████████ │                                    
  └──────────────────────┘                                   
  ↑                      ↑                                   
  좌측 핸들              우측 핸들                           
                                                             
                                                             
  좌측 핸들 드래그 (시작일 조절):                            
  ┌─────────────────────────────┐                            
  │█████████████████████████████│                            
  └─────────────────────────────┘                            
  ← 드래그                                                   
                                                             
                                                             
  우측 핸들 드래그 (종료일 조절):                            
  ┌─────────────────────────────────────┐                    
  │█████████████████████████████████████│                    
  └─────────────────────────────────────┘                    
  드래그 →                                                   
  ```                                                        
                                                             
  #### 13.4.2 드래그 이동 (전체 기간 이동)                   
                                                             
  ```                                                        
  1. Task 바 중앙 영역 클릭 & 드래그                         
  2. 좌우로 이동하면 시작일/종료일이 함께 이동               
  3. 기간(duration)은 유지                                   
                                                             
  이동 전:                                                   
  ┌──────────────────────┐                                   
  │████████████████████ │                                    
  └──────────────────────┘                                   
                                                             
  이동 후 (우측으로 2일):                                    
  ┌──────────────────────┐                                   
  │████████████████████ │                                    
  └──────────────────────┘                                   
  ```                                                        
                                                             
  #### 13.4.3 조작 피드백                                    
                                                             
  | 조작 | 커서 | 피드백 |                                   
  |------|------|--------|                                   
  | 호버 | pointer | 바 하이라이트 |                         
  | 좌측 핸들 호버 | ew-resize | 핸들 강조 |                 
  | 우측 핸들 호버 | ew-resize | 핸들 강조 |                 
  | 드래그 중 | grabbing | 툴팁에 날짜 표시 |                
  | 드롭 | - | 스냅 애니메이션 |                             
                                                             
  ### 13.5 Feature 집계 바                                   
                                                             
  하위 Task들의 시작일~종료일 범위를 자동으로 계산하여 표시  
                                                             
  ```                                                        
  Feature 집계 규칙:                                         
  - 시작일: 하위 Task 중 가장 빠른 시작일                    
  - 종료일: 하위 Task 중 가장 늦은 종료일                    
  - 진행률: 완료된 Task 비율로 색상 채움                     
                                                             
  예시:                                                      
  ┌───────────────────────────────────────────────────────── 
  ────┐                                                      
  │ ▼ 사용자 인증 시스템                                     
  │░░░░░░░░░░████████████████████░░░░░░░░│ ← 집계 바 (75%    
  완료)                                                      
  │                     │    ↑                          ↑    
  │                                                          
  │                     │ 첫 Task 시작              마지막   
  Task 종료                                                  
  └───────────────────────────────────────────────────────── 
  ────┘                                                      
  ```                                                        
                                                             
  ### 13.6 Feature 접기/펼치기                               
                                                             
  ```                                                        
  펼친 상태 (▼):                                             
  ▼ 사용자 인증 시스템                                       
  ├─ 로그인 UI        │████████│                             
  ├─ 로그인 API       │    ████████████│                     
  └─ 로그인 테스트    │              ████│                   
                                                             
  접힌 상태 (▶):                                             
  ▶ 사용자 인증 시스템   │░░░░░████████████████░░│ ← 집계    
  바만 표시                                                  
  ```                                                        
                                                             
  ### 13.7 Task 바 색상                                      
                                                             
  | 상태 | 색상 | 조건 |                                     
  |------|------|------|                                     
  | 진행 전 | 회색 | 시작일 > 오늘 |                         
  | 진행 중 | 파란색 | 시작일 ≤ 오늘 ≤ 종료일 |              
  | 완료 | 초록색 | Done 블록에 위치 |                       
  | 마감 임박 | 주황색 | 종료일이 오늘/내일 & 미완료 |       
  | 마감 초과 | 빨간색 | 종료일 < 오늘 & 미완료 |            
                                                             
  ### 13.8 주 네비게이션                                     
                                                             
  ```                                                        
  ┌───────────────────────────────────────────────────────── 
  ───┐                                                       
  │  [<]  2026년 1월 2주차 (01/06 ~ 01/12)  [>]   [오늘]     
  [이번주] │                                                 
  └───────────────────────────────────────────────────────── 
  ───┘                                                       
                                                             
  [<] : 이전 주로 이동                                       
  [>] : 다음 주로 이동                                       
  [오늘] : 오늘이 포함된 주로 이동 + 오늘 열 하이라이트      
  [이번주] : 이번 주로 이동                                  
  ```                                                        
                                                             
  ### 13.9 오늘 표시                                         
                                                             
  ```                                                        
  │                                                          
  월    화    │수     목    금    토    일                   
  │                                                          
  ┌────┐      │┌────────────┐                                
  │████│       ││████████████│                               
  └────┘      │└────────────┘                                
  │                                                          
  오늘 (빨간 세로선)                                         
  ```                                                        
                                                             
  ### 13.10 Task 상세 팝오버                                 
                                                             
  Task 바 클릭 시 팝오버 표시:                               
                                                             
  ```                                                        
  ┌─────────────────────────────────────┐                    
  │  로그인 API 개발                     │                   
  ├─────────────────────────────────────┤                    
  │  Feature: 사용자 인증 시스템          │                  
  │  담당자: @박개발                     │                   
  │  기간: 01/07 ~ 01/10 (4일)          │                    
  │  상태: In Progress                   │                   
  ├─────────────────────────────────────┤                    
  │  체크리스트                    2/4   │                   
  │  [v] JWT 토큰 발급                   │                   
  │  [v] 리프레시 토큰                   │                   
  │  [ ] 소셜 로그인 연동                │                   
  │  [ ] API 테스트                      │                   
  ├─────────────────────────────────────┤                    
  │  [상세 보기]        [Done으로 이동]   │                  
  └─────────────────────────────────────┘                    
  ```                                                        
                                                             
  ### 13.11 새 Task 생성 (드래그 생성)                       
                                                             
  ```                                                        
  1. Feature 행의 빈 영역에서 드래그 시작                    
  2. 좌우로 드래그하여 기간 선택                             
  3. 드롭 시 Task 생성 모달 표시                             
                                                             
  드래그 중:                                                 
  ▼ 사용자 인증 시스템                                       
  ├─ 로그인 UI        │████████│                             
  ├─ 로그인 API       │    ████████████│                     
  └─ (새 Task)        │              ┌─────────┐  ←          
  드래그 중 (점선)                                           
  └─────────┘                                                
  ```                                                        
                                                             
  ### 13.12 Task 생성 모달 (위클리에서)                      
                                                             
  ```                                                        
  ┌────────────────────────────────────────────────────────┐ 
  │  새 Task 추가                                      [X] │ 
  ├────────────────────────────────────────────────────────┤ 
  │  Feature: 사용자 인증 시스템                             
  │                                                          
  ├────────────────────────────────────────────────────────┤ 
  │  Task 제목 *                                           │ 
  │  ┌──────────────────────────────────────────────────┐  │ 
  │  │                                                  │  │ 
  │  └──────────────────────────────────────────────────┘  │ 
  ├────────────────────────────────────────────────────────┤ 
  │  기간                                                  │ 
  │  시작일: [2026-01-10]    종료일: [2026-01-12]          │ 
  ├────────────────────────────────────────────────────────┤ 
  │  담당자                                                │ 
  │  ┌──────────────────────────────────────────────────┐  │ 
  │  │ 담당자 선택                                   [v] │   
  │                                                          
  │  └──────────────────────────────────────────────────┘  │ 
  ├────────────────────────────────────────────────────────┤ 
  │  태그                                                  │ 
  │  ┌──────────────────────────────────────────────────┐  │ 
  │  │ [#백엔드] [#API] [+ 태그 추가]                    │   
  │                                                          
  │  └──────────────────────────────────────────────────┘  │ 
  ├────────────────────────────────────────────────────────┤ 
  │           [취소]                  [생성]               │ 
  └────────────────────────────────────────────────────────┘ 
  ```                                                        
                                                             
  ### 13.13 필터링                                           
                                                             
  ```                                                        
  ┌────────────────────────────────────────────────────────┐ 
  │  필터                                              [X] │ 
  ├────────────────────────────────────────────────────────┤ 
  │  담당자                                                │ 
  │  [v] 전체  [ ] @김개발  [ ] @이디자인  [ ] @박개발     │ 
  ├────────────────────────────────────────────────────────┤ 
  │  태그                                                  │ 
  │  [ ] #인증  [ ] #결제  [ ] #백엔드  [ ] #프론트        │ 
  ├────────────────────────────────────────────────────────┤ 
  │  상태                                                  │ 
  │  [v] 진행 전  [v] 진행 중  [ ] 완료  [v] 마감 초과     │ 
  ├────────────────────────────────────────────────────────┤ 
  │           [초기화]                [적용]               │ 
  └────────────────────────────────────────────────────────┘ 
  ```                                                        
                                                             
  ### 13.14 의존성 표시 (선택적 기능)                        
                                                             
  Task 간 의존 관계를 화살표로 표시:                         
                                                             
  ```                                                        
  ├─ 로그인 UI        │████████│                             
  │                            ╲                             
  │                             ╲                            
  ├─ 로그인 API       │    ██████╲█████│                     
  │                               ╲                          
  │                                ╲                         
  └─ 로그인 테스트    │              ████│                   
                                                             
  → 로그인 UI 완료 후 로그인 API 시작                        
  → 로그인 API 완료 후 로그인 테스트 시작                    
  ```                                                        
                                                             
  ### 13.15 데이터 모델 확장                                 
                                                             
  #### Task 엔티티 확장                                      
                                                             
  ```                                                        
  Task                                                       
  ├── ... (기존 필드)                                        
  ├── start_date (DATE)      ← 신규: 시작일                  
  ├── end_date (DATE)        ← 신규: 종료일 (기존 due_date와 
  별개 또는 대체)                                            
  └── dependencies (List<Task>)  ← 선택: 의존 관계           
  ```                                                        
                                                             
  ### 13.16 API 확장                                         
                                                             
  | Method | Endpoint | 설명 |                               
  |--------|----------|------|                               
  | GET | `/boards/{id}/weekly` | 주간 스케줄 조회 |         
  | GET | `/boards/{id}/weekly?week=2026-W02` | 특정 주 조회 
  |                                                          
  | PUT | `/boards/{id}/tasks/{taskId}/dates` | Task 기간    
  수정 |                                                     
  | POST | `/boards/{id}/tasks/{taskId}/dependencies` |      
  의존성 추가 |                                              
  | DELETE |                                                 
  `/boards/{id}/tasks/{taskId}/dependencies/{depId}` |       
  의존성 삭제 |                                              
                                                             
  #### GET /boards/{id}/weekly 응답 예시                     
                                                             
  ```json                                                    
  {                                                          
  "week": "2026-W02",                                        
  "startDate": "2026-01-06",                                 
  "endDate": "2026-01-12",                                   
  "features": [                                              
  {                                                          
  "id": 1,                                                   
  "title": "사용자 인증 시스템",                             
  "tags": ["인증", "MVP"],                                   
  "aggregatedStartDate": "2026-01-06",                       
  "aggregatedEndDate": "2026-01-12",                         
  "progress": 75,                                            
  "tasks": [                                                 
  {                                                          
  "id": 101,                                                 
  "title": "로그인 UI",                                      
  "assignee": { "id": 1, "name": "이디자인" },               
  "startDate": "2026-01-06",                                 
  "endDate": "2026-01-08",                                   
  "status": "DONE",                                          
  "blockName": "Done"                                        
  },                                                         
  {                                                          
  "id": 102,                                                 
  "title": "로그인 API 개발",                                
  "assignee": { "id": 2, "name": "박개발" },                 
  "startDate": "2026-01-07",                                 
  "endDate": "2026-01-10",                                   
  "status": "IN_PROGRESS",                                   
  "blockName": "In Progress",                                
  "checklistProgress": { "completed": 2, "total":            
  4 }                                                        
  }                                                          
  ]                                                          
  }                                                          
  ]                                                          
  }                                                          
  ```                                                        
                                                             
  #### PUT /boards/{id}/tasks/{taskId}/dates 요청            
                                                             
  ```json                                                    
  {                                                          
  "startDate": "2026-01-08",                                 
  "endDate": "2026-01-11"                                    
  }                                                          
  ```                                                        
                                                             
  ### 13.17 권한                                             
                                                             
  | 기능 | Owner | Admin | Member | Viewer |                 
  |------|:-----:|:-----:|:------:|:------:|                 
  | 위클리 스케줄 조회 | O | O | O | O |                     
  | Task 기간 조절 | O | O | O | X |                         
  | Task 이동 | O | O | O | X |                              
  | 위클리에서 Task 생성 | O | O | O | X |                   
  | 의존성 설정 | O | O | X | X |                            
                                                             
  ### 13.18 뷰 전환                                          
                                                             
  ```                                                        
  ┌───────────────────────────────────────────────────────── 
  ────────────────┐                                          
  │  팀 칸반보드       [칸반보드] [데일리스케줄]             
  [위클리스케줄]    [설정]      │                            
  │                       │            │              │      
  │                                                          
  │                       ▼            ▼              ▼      
  │                                                          
  │                   블록 기반     일별 시간      주별      
  타임라인              │                                    
  │                   워크플로우    기반 스케줄    간트 차트 
  │                                                          
  └───────────────────────────────────────────────────────── 
  ────────────────┘                                          
  ```                                                        
                                                             
  ### 13.19 반응형 고려                                      
                                                             
  | 화면 | 표시 |                                            
  |------|------|                                            
  | Desktop | 7일 전체 표시 |                                
  | Tablet | 7일 표시 (컬럼 축소) |                          
  | Mobile | 3일 표시 + 좌우 스크롤 |                        
                                                             
  ### 13.20 키보드 단축키                                    
                                                             
  | 단축키 | 동작 |                                          
  |--------|------|                                          
  | `←` / `→` | 이전/다음 주 |                               
  | `T` | 오늘로 이동 |                                      
  | `F` | 필터 열기 |                                        
  | `N` | 새 Task (선택된 Feature에) |                       
  | `Esc` | 팝오버/모달 닫기 |                               
                                                             
  ---                                                        
                                                             
  ## 변경 이력 (업데이트)                                    
                                                             
  | 버전 | 날짜 | 주요 변경 |                                
  |------|------|----------|                                 
  | v3.0 | 2025-01 | 데일리 스케줄 시스템 추가 |             
  | v4.0 | 2026-01 | 스케줄 블록/시간 표시 모드, 타임블록    
  이동, 중복 감지 |                                          
  | **v4.1** | **2026-01** | **위클리 스케줄 시스템 (간트    
  차트) 추가** |                                             
                                                             
  ---                                                        
                                                             
  **문서 버전**: 4.1                                         
  **최종 수정**: 2026년 1월 12일            